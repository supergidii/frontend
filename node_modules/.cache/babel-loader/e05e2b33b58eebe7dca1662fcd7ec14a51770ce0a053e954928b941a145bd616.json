{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axios from'axios';import'./Home.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const[recentResults,setRecentResults]=useState([]);const[betHistory,setBetHistory]=useState([]);useEffect(()=>{const fetchRecent=async()=>{try{const res=await axios.get('/api/recent-results/');setRecentResults(res.data||[]);}catch(e){setRecentResults([]);}};const fetchBetHistory=async()=>{try{const res=await axios.get('/api/aviator/history/');setBetHistory(Array.isArray(res.data)?res.data:[]);}catch(e){setBetHistory([]);}};fetchRecent();fetchBetHistory();},[]);const defaultRecentResults=[{id:1,home_team:{name:'Inter Milan'},away_team:{name:'Borussia Dortmund'},result:'2-1',start_time:new Date(Date.now()-60*60000).toISOString()},{id:2,home_team:{name:'Atletico Madrid'},away_team:{name:'Sevilla'},result:'1-1',start_time:new Date(Date.now()-120*60000).toISOString()},{id:3,home_team:{name:'Porto'},away_team:{name:'Benfica'},result:'3-0',start_time:new Date(Date.now()-180*60000).toISOString()}];const displayRecentResults=recentResults.length>0?recentResults:defaultRecentResults;return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Play Aviator and enjoy the thrill of rising multipliers.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-sections\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Play Now\"}),/*#__PURE__*/_jsx(\"div\",{className:\"games-grid\",children:/*#__PURE__*/_jsxs(Link,{to:\"/aviator\",className:\"game-card aviator-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-icon\",children:\"\\u2708\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Aviator\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Crash game with increasing multipliers\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-features\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"feature\",children:\"Live Multipliers\"}),/*#__PURE__*/_jsx(\"span\",{className:\"feature\",children:\"Cashout Anytime\"}),/*#__PURE__*/_jsx(\"span\",{className:\"feature\",children:\"Fast Rounds\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recent Results\"}),/*#__PURE__*/_jsx(\"div\",{className:\"results-list\",children:displayRecentResults.slice(0,5).map(match=>{var _match$home_team,_match$away_team;return/*#__PURE__*/_jsxs(\"div\",{className:\"result-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-teams\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"team\",children:(_match$home_team=match.home_team)===null||_match$home_team===void 0?void 0:_match$home_team.name}),/*#__PURE__*/_jsx(\"span\",{className:\"score\",children:match.result}),/*#__PURE__*/_jsx(\"span\",{className:\"team\",children:(_match$away_team=match.away_team)===null||_match$away_team===void 0?void 0:_match$away_team.name})]}),/*#__PURE__*/_jsx(\"div\",{className:\"result-time\",children:new Date(match.start_time).toLocaleDateString()})]},match.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Bet History\"}),betHistory.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"bet-history-empty\",children:\"No bets yet\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"bet-history-table\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bet-history-header\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Round\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Stake\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Outcome\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Payout\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Profit\"})]}),betHistory.slice(0,10).map((b,i)=>{var _b$game;return/*#__PURE__*/_jsxs(\"div\",{className:`bet-history-row ${b.result==='cashout'?'win':'loss'}`,children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"#\",b.round||((_b$game=b.game)===null||_b$game===void 0?void 0:_b$game.round_number)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Ksh \",Number(b.amount).toFixed(2)]}),/*#__PURE__*/_jsx(\"span\",{children:b.result==='cashout'?`${Number(b.cashout_multiplier||b.cashoutMultiplier).toFixed(2)}x`:'Crashed'}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Ksh \",Number(b.payout).toFixed(2)]}),/*#__PURE__*/_jsx(\"span\",{className:\"profit\",children:`${b.profit>=0?'+':''}${Number(b.profit).toFixed(2)}`})]},i);})]})]})]})]});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","Link","axios","jsx","_jsx","jsxs","_jsxs","Home","recentResults","setRecentResults","betHistory","setBetHistory","fetchRecent","res","get","data","e","fetchBetHistory","Array","isArray","defaultRecentResults","id","home_team","name","away_team","result","start_time","Date","now","toISOString","displayRecentResults","length","className","children","to","slice","map","match","_match$home_team","_match$away_team","toLocaleDateString","b","i","_b$game","round","game","round_number","Number","amount","toFixed","cashout_multiplier","cashoutMultiplier","payout","profit"],"sources":["C:/Users/Antoo/Desktop/betting/betsite/frontend/src/components/Home.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Home.css';\r\n\r\nfunction Home() {\r\n  const [recentResults, setRecentResults] = useState([]);\r\n  const [betHistory, setBetHistory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchRecent = async () => {\r\n      try {\r\n        const res = await axios.get('/api/recent-results/');\r\n        setRecentResults(res.data || []);\r\n      } catch (e) {\r\n        setRecentResults([]);\r\n      }\r\n    };\r\n    const fetchBetHistory = async () => {\r\n      try {\r\n        const res = await axios.get('/api/aviator/history/');\r\n        setBetHistory(Array.isArray(res.data) ? res.data : []);\r\n      } catch (e) {\r\n        setBetHistory([]);\r\n      }\r\n    };\r\n    fetchRecent();\r\n    fetchBetHistory();\r\n  }, []);\r\n\r\n  const defaultRecentResults = [\r\n    { id: 1, home_team: { name: 'Inter Milan' }, away_team: { name: 'Borussia Dortmund' }, result: '2-1', start_time: new Date(Date.now() - 60 * 60000).toISOString() },\r\n    { id: 2, home_team: { name: 'Atletico Madrid' }, away_team: { name: 'Sevilla' }, result: '1-1', start_time: new Date(Date.now() - 120 * 60000).toISOString() },\r\n    { id: 3, home_team: { name: 'Porto' }, away_team: { name: 'Benfica' }, result: '3-0', start_time: new Date(Date.now() - 180 * 60000).toISOString() }\r\n  ];\r\n\r\n  const displayRecentResults = recentResults.length > 0 ? recentResults : defaultRecentResults;\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <h1>Welcome</h1>\r\n      <p>Play Aviator and enjoy the thrill of rising multipliers.</p>\r\n\r\n      <div className=\"home-sections\">\r\n        <div className=\"section\">\r\n          <h2>Play Now</h2>\r\n          <div className=\"games-grid\">\r\n            <Link to=\"/aviator\" className=\"game-card aviator-card\">\r\n              <div className=\"game-icon\">✈️</div>\r\n              <h3>Aviator</h3>\r\n              <p>Crash game with increasing multipliers</p>\r\n              <div className=\"game-features\">\r\n                <span className=\"feature\">Live Multipliers</span>\r\n                <span className=\"feature\">Cashout Anytime</span>\r\n                <span className=\"feature\">Fast Rounds</span>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"section\">\r\n          <h2>Recent Results</h2>\r\n          <div className=\"results-list\">\r\n            {displayRecentResults.slice(0, 5).map(match => (\r\n              <div key={match.id} className=\"result-item\">\r\n                <div className=\"result-teams\">\r\n                  <span className=\"team\">{match.home_team?.name}</span>\r\n                  <span className=\"score\">{match.result}</span>\r\n                  <span className=\"team\">{match.away_team?.name}</span>\r\n                </div>\r\n                <div className=\"result-time\">\r\n                  {new Date(match.start_time).toLocaleDateString()}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"section\">\r\n          <h2>Your Bet History</h2>\r\n          {betHistory.length === 0 ? (\r\n            <div className=\"bet-history-empty\">No bets yet</div>\r\n          ) : (\r\n            <div className=\"bet-history-table\">\r\n              <div className=\"bet-history-header\">\r\n                <span>Round</span>\r\n                <span>Stake</span>\r\n                <span>Outcome</span>\r\n                <span>Payout</span>\r\n                <span>Profit</span>\r\n              </div>\r\n              {betHistory.slice(0, 10).map((b, i) => (\r\n                <div className={`bet-history-row ${b.result === 'cashout' ? 'win' : 'loss'}`} key={i}>\r\n                  <span>#{b.round || b.game?.round_number}</span>\r\n                  <span>Ksh {Number(b.amount).toFixed(2)}</span>\r\n                  <span>{b.result === 'cashout' ? `${Number(b.cashout_multiplier || b.cashoutMultiplier).toFixed(2)}x` : 'Crashed'}</span>\r\n                  <span>Ksh {Number(b.payout).toFixed(2)}</span>\r\n                  <span className=\"profit\">{`${b.profit >= 0 ? '+' : ''}${Number(b.profit).toFixed(2)}`}</span>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}