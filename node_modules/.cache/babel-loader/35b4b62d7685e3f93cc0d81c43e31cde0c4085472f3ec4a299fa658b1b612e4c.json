{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./BetSlip.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function BetSlip(){const[bets,setBets]=useState([{id:1,match:{home_team:{name:'Manchester United'},away_team:{name:'Liverpool FC'}},bet_type:'home_win',odds:2.0,amount:0}]);const[totalStake,setTotalStake]=useState(0);const[potentialWinnings,setPotentialWinnings]=useState(0);const updateBetAmount=(betId,amount)=>{const updatedBets=bets.map(bet=>bet.id===betId?{...bet,amount:parseFloat(amount)||0}:bet);setBets(updatedBets);// Calculate totals\nconst total=updatedBets.reduce((sum,bet)=>sum+bet.amount,0);const winnings=updatedBets.reduce((sum,bet)=>sum+bet.amount*bet.odds,0);setTotalStake(total);setPotentialWinnings(winnings);};const removeBet=betId=>{setBets(bets.filter(bet=>bet.id!==betId));};const placeBets=async()=>{try{// Place each bet\nfor(const bet of bets){if(bet.amount>0){await axios.post('/api/place-bet/',{match_id:bet.match.id,bet_type:bet.bet_type,amount:bet.amount});}}alert('Bets placed successfully!');setBets([]);setTotalStake(0);setPotentialWinnings(0);}catch(error){console.error('Error placing bets:',error);alert('Error placing bets. Please try again.');}};const getBetTypeLabel=betType=>{switch(betType){case'home_win':return'Home Win';case'draw':return'Draw';case'away_win':return'Away Win';default:return betType;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bet-slip\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Bet Slip\"}),bets.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-bet-slip\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"No bets selected\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Go to Matches to select your bets\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"bets-list\",children:bets.map(bet=>/*#__PURE__*/_jsxs(\"div\",{className:\"bet-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bet-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"match-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"team\",children:bet.match.home_team.name}),/*#__PURE__*/_jsx(\"span\",{className:\"vs\",children:\"vs\"}),/*#__PURE__*/_jsx(\"span\",{className:\"team\",children:bet.match.away_team.name})]}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-btn\",onClick:()=>removeBet(bet.id),children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bet-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bet-type\",children:getBetTypeLabel(bet.bet_type)}),/*#__PURE__*/_jsxs(\"span\",{className:\"odds\",children:[\"Odds: \",bet.odds]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bet-amount\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stake:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"0.01\",value:bet.amount,onChange:e=>updateBetAmount(bet.id,e.target.value),placeholder:\"Enter amount\"})]})]},bet.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"bet-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Stake:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",totalStake.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Potential Winnings:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",potentialWinnings.toFixed(2)]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"place-bet-btn\",onClick:placeBets,disabled:totalStake===0,children:\"Place Bets\"})]})]});}export default BetSlip;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BetSlip","bets","setBets","id","match","home_team","name","away_team","bet_type","odds","amount","totalStake","setTotalStake","potentialWinnings","setPotentialWinnings","updateBetAmount","betId","updatedBets","map","bet","parseFloat","total","reduce","sum","winnings","removeBet","filter","placeBets","post","match_id","alert","error","console","getBetTypeLabel","betType","className","children","length","onClick","type","min","step","value","onChange","e","target","placeholder","toFixed","disabled"],"sources":["C:/Users/Antoo/Desktop/betting/betsite/frontend/src/components/BetSlip.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './BetSlip.css';\r\n\r\nfunction BetSlip() {\r\n  const [bets, setBets] = useState([\r\n    {\r\n      id: 1,\r\n      match: {\r\n        home_team: { name: 'Manchester United' },\r\n        away_team: { name: 'Liverpool FC' }\r\n      },\r\n      bet_type: 'home_win',\r\n      odds: 2.0,\r\n      amount: 0\r\n    }\r\n  ]);\r\n  const [totalStake, setTotalStake] = useState(0);\r\n  const [potentialWinnings, setPotentialWinnings] = useState(0);\r\n\r\n  const updateBetAmount = (betId, amount) => {\r\n    const updatedBets = bets.map(bet => \r\n      bet.id === betId ? { ...bet, amount: parseFloat(amount) || 0 } : bet\r\n    );\r\n    setBets(updatedBets);\r\n    \r\n    // Calculate totals\r\n    const total = updatedBets.reduce((sum, bet) => sum + bet.amount, 0);\r\n    const winnings = updatedBets.reduce((sum, bet) => sum + (bet.amount * bet.odds), 0);\r\n    \r\n    setTotalStake(total);\r\n    setPotentialWinnings(winnings);\r\n  };\r\n\r\n  const removeBet = (betId) => {\r\n    setBets(bets.filter(bet => bet.id !== betId));\r\n  };\r\n\r\n  const placeBets = async () => {\r\n    try {\r\n      // Place each bet\r\n      for (const bet of bets) {\r\n        if (bet.amount > 0) {\r\n          await axios.post('/api/place-bet/', {\r\n            match_id: bet.match.id,\r\n            bet_type: bet.bet_type,\r\n            amount: bet.amount\r\n          });\r\n        }\r\n      }\r\n      \r\n      alert('Bets placed successfully!');\r\n      setBets([]);\r\n      setTotalStake(0);\r\n      setPotentialWinnings(0);\r\n    } catch (error) {\r\n      console.error('Error placing bets:', error);\r\n      alert('Error placing bets. Please try again.');\r\n    }\r\n  };\r\n\r\n  const getBetTypeLabel = (betType) => {\r\n    switch (betType) {\r\n      case 'home_win': return 'Home Win';\r\n      case 'draw': return 'Draw';\r\n      case 'away_win': return 'Away Win';\r\n      default: return betType;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bet-slip\">\r\n      <h1>Bet Slip</h1>\r\n      \r\n      {bets.length === 0 ? (\r\n        <div className=\"empty-bet-slip\">\r\n          <p>No bets selected</p>\r\n          <p>Go to Matches to select your bets</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"bets-list\">\r\n            {bets.map(bet => (\r\n              <div key={bet.id} className=\"bet-item\">\r\n                <div className=\"bet-header\">\r\n                  <div className=\"match-info\">\r\n                    <span className=\"team\">{bet.match.home_team.name}</span>\r\n                    <span className=\"vs\">vs</span>\r\n                    <span className=\"team\">{bet.match.away_team.name}</span>\r\n                  </div>\r\n                  <button \r\n                    className=\"remove-btn\"\r\n                    onClick={() => removeBet(bet.id)}\r\n                  >\r\n                    Ã—\r\n                  </button>\r\n                </div>\r\n                \r\n                <div className=\"bet-details\">\r\n                  <span className=\"bet-type\">{getBetTypeLabel(bet.bet_type)}</span>\r\n                  <span className=\"odds\">Odds: {bet.odds}</span>\r\n                </div>\r\n                \r\n                <div className=\"bet-amount\">\r\n                  <label>Stake:</label>\r\n                  <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    step=\"0.01\"\r\n                    value={bet.amount}\r\n                    onChange={(e) => updateBetAmount(bet.id, e.target.value)}\r\n                    placeholder=\"Enter amount\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          <div className=\"bet-summary\">\r\n            <div className=\"summary-item\">\r\n              <span>Total Stake:</span>\r\n              <span>${totalStake.toFixed(2)}</span>\r\n            </div>\r\n            <div className=\"summary-item\">\r\n              <span>Potential Winnings:</span>\r\n              <span>${potentialWinnings.toFixed(2)}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <button \r\n            className=\"place-bet-btn\"\r\n            onClick={placeBets}\r\n            disabled={totalStake === 0}\r\n          >\r\n            Place Bets\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BetSlip; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}