{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Antoo\\\\Desktop\\\\betting\\\\betsite\\\\frontend\\\\src\\\\components\\\\Aviator.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './Aviator.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://127.0.0.1:8000';\nconst Aviator = () => {\n  _s();\n  // Game state from backend\n  const [gameState, setGameState] = useState('waiting');\n  const [multiplier, setMultiplier] = useState(1.00);\n  const [betAmount, setBetAmount] = useState(10);\n  const [balance, setBalance] = useState(1000);\n  const [isBetPlaced, setIsBetPlaced] = useState(false);\n  const [gameHistory, setGameHistory] = useState([]);\n  const [timeLeft, setTimeLeft] = useState(10);\n  const [crashPoint, setCrashPoint] = useState(0);\n  const [isAutoCashout, setIsAutoCashout] = useState(false);\n  const [autoCashoutValue, setAutoCashoutValue] = useState(2.00);\n  const [roundNumber, setRoundNumber] = useState(0);\n  const [isBetQueued, setIsBetQueued] = useState(false);\n  const [queuedBetAmount, setQueuedBetAmount] = useState(10);\n  const [betHistory, setBetHistory] = useState([]);\n  const [currentGame, setCurrentGame] = useState(null);\n  const [error, setError] = useState(null);\n  const [currentOdds, setCurrentOdds] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [gamePhase, setGamePhase] = useState('waiting');\n\n  // Real-time polling intervals\n  const realtimeInterval = useRef(null);\n  const gameCheckInterval = useRef(null);\n  const isRunningRef = useRef(false);\n  const gameStateRef = useRef(gameState);\n\n  // Real-time game state polling - gets current multiplier from backend\n  const fetchRealtimeGameState = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/aviator/realtime/`);\n      const data = response.data;\n\n      // Update game state from backend\n      setRoundNumber(data.round_number);\n      setGameState(data.status);\n      setCrashPoint(Number(data.crash_point));\n      setMultiplier(data.current_multiplier);\n      setTimeLeft(data.time_remaining);\n      setGamePhase(data.phase);\n\n      // Handle game transitions\n      if (data.game_crashed) {\n        // Game just crashed, show result briefly\n        setGameState('crashed');\n        setMultiplier(Number(data.crashed_at));\n\n        // Reset bet state\n        setIsBetPlaced(false);\n\n        // Add to game history\n        setGameHistory(prev => [Number(data.crashed_at), ...prev.slice(0, 9)]);\n\n        // Start new round after brief delay\n        setTimeout(() => {\n          setGameState('waiting');\n          setMultiplier(1.00);\n        }, 2000);\n      }\n\n      // Handle auto-cashout\n      if (isAutoCashout && data.phase === 'playing' && data.current_multiplier >= autoCashoutValue) {\n        cashout();\n      }\n    } catch (error) {\n      console.error('Error fetching real-time game state:', error);\n    }\n  };\n\n  // Fetch initial game data\n  const fetchCurrentGame = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/aviator/sync/`);\n      const data = response.data;\n      setCurrentGame(data.game);\n      setCurrentOdds(data.odds);\n      setRoundNumber(data.game.round_number);\n      setCrashPoint(Number(data.game.crash_point));\n      setGameState(data.game.status);\n      setMultiplier(data.current_multiplier);\n      setTimeLeft(data.timing.time_remaining);\n\n      // Set game phase based on status\n      if (data.game.status === 'waiting') {\n        setGamePhase('waiting');\n      } else if (data.game.status === 'active') {\n        setGamePhase('playing');\n      } else {\n        setGamePhase('crashed');\n      }\n      setIsLoading(false);\n    } catch (error) {\n      console.error('Error fetching current game:', error);\n      setError('Failed to load game data');\n      setIsLoading(false);\n    }\n  };\n\n  // Fetch user balance\n  const fetchBalance = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n      const response = await axios.get(`${API_BASE_URL}/api/aviator/balance/`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      setBalance(response.data.balance);\n    } catch (error) {\n      console.error('Error fetching balance:', error);\n    }\n  };\n\n  // Place bet\n  const placeBet = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) {\n        setError('Please log in to place a bet');\n        return;\n      }\n      const response = await axios.post(`${API_BASE_URL}/api/aviator/place-bet/`, {\n        amount: betAmount\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.data.success) {\n        setIsBetPlaced(true);\n        setBalance(response.data.new_balance);\n        setError(null);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error placing bet:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to place bet');\n    }\n  };\n\n  // Cashout\n  const cashout = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n      const response = await axios.post(`${API_BASE_URL}/api/aviator/cashout/`, {}, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.data.success) {\n        setIsBetPlaced(false);\n        setBalance(response.data.new_balance);\n        setBetHistory(prev => [{\n          amount: response.data.bet_amount,\n          multiplier: multiplier,\n          profit: response.data.profit\n        }, ...prev.slice(0, 9)]);\n      }\n    } catch (error) {\n      console.error('Error cashing out:', error);\n    }\n  };\n\n  // Queue bet for next round\n  const queueBet = () => {\n    if (gameState === 'waiting') {\n      setIsBetQueued(true);\n      setQueuedBetAmount(betAmount);\n    }\n  };\n\n  // Cancel queued bet\n  const cancelQueuedBet = () => {\n    setIsBetQueued(false);\n    setQueuedBetAmount(0);\n  };\n\n  // Handle bet amount change\n  const handleBetAmountChange = e => {\n    const value = Number(e.target.value);\n    if (value > 0 && value <= balance) {\n      setBetAmount(value);\n    }\n  };\n\n  // Handle auto-cashout change\n  const handleAutoCashoutChange = e => {\n    const value = Number(e.target.value);\n    if (value >= 1.00) {\n      setAutoCashoutValue(value);\n    }\n  };\n\n  // Start real-time polling\n  useEffect(() => {\n    // Initial fetch\n    fetchCurrentGame();\n    fetchBalance();\n\n    // Start real-time polling (every 100ms for smooth updates)\n    realtimeInterval.current = setInterval(fetchRealtimeGameState, 100);\n\n    // Game state check (every 1 second)\n    gameCheckInterval.current = setInterval(() => {\n      if (gameState === 'waiting' || gameState === 'active') {\n        fetchCurrentGame();\n      }\n    }, 1000);\n\n    // Cleanup\n    return () => {\n      if (realtimeInterval.current) {\n        clearInterval(realtimeInterval.current);\n      }\n      if (gameCheckInterval.current) {\n        clearInterval(gameCheckInterval.current);\n      }\n    };\n  }, []);\n\n  // Update game state ref\n  useEffect(() => {\n    gameStateRef.current = gameState;\n  }, [gameState]);\n\n  // Handle queued bet when game starts\n  useEffect(() => {\n    if (gameState === 'active' && isBetQueued && gamePhase === 'starting') {\n      setBetAmount(queuedBetAmount);\n      setIsBetQueued(false);\n      placeBet();\n    }\n  }, [gameState, gamePhase, isBetQueued]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"aviator-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading Aviator Game...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"aviator-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Aviator Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"round-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Round #\", roundNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"balance\",\n          children: [\"Balance: $\", balance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-display\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"multiplier-display\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"multiplier-value\",\n          children: gameState === 'crashed' ? `${multiplier.toFixed(2)}x` : `${multiplier.toFixed(2)}x`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-status\",\n          children: [gameState === 'waiting' && `Next round in ${timeLeft.toFixed(1)}s`, gameState === 'active' && gamePhase === 'playing' && `Flying to ${crashPoint.toFixed(2)}x`, gameState === 'crashed' && 'CRASHED!']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"crash-point\",\n        children: [\"Crash Point: \", crashPoint.toFixed(2), \"x\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"betting-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bet-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Bet Amount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: betAmount,\n          onChange: handleBetAmountChange,\n          min: \"1\",\n          max: balance,\n          disabled: isBetPlaced || gameState !== 'waiting'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bet-buttons\",\n        children: !isBetPlaced ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"place-bet-btn\",\n            onClick: placeBet,\n            disabled: gameState !== 'waiting' || betAmount > balance,\n            children: \"Place Bet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this), gameState === 'waiting' && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"queue-bet-btn\",\n            onClick: queueBet,\n            disabled: betAmount > balance,\n            children: \"Queue Bet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cashout-btn\",\n          onClick: cashout,\n          disabled: gameState !== 'active',\n          children: [\"Cashout at \", multiplier.toFixed(2), \"x\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this), isBetQueued && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"queued-bet\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Bet queued: $\", queuedBetAmount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: cancelQueuedBet,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auto-cashout\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: isAutoCashout,\n          onChange: e => setIsAutoCashout(e.target.checked)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), \"Auto Cashout at:\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: autoCashoutValue,\n        onChange: handleAutoCashoutChange,\n        min: \"1.00\",\n        step: \"0.10\",\n        disabled: !isAutoCashout\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), \"x\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-history\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Recent Crashes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-list\",\n          children: gameHistory.map((crash, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"crash-value\",\n            children: [crash.toFixed(2), \"x\"]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bet-history\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Recent Bets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-list\",\n          children: betHistory.map((bet, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bet-result\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"$\", bet.amount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [bet.multiplier.toFixed(2), \"x\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: bet.profit >= 0 ? 'profit' : 'loss',\n              children: [bet.profit >= 0 ? '+' : '', \"$\", bet.profit]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"debug-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Game State: \", gameState]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Phase: \", gamePhase]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Time Left: \", timeLeft.toFixed(1), \"s\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Multiplier: \", multiplier.toFixed(3), \"x\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n};\n_s(Aviator, \"tVDl+RcOQBOykb3QYteX9Vejcjk=\");\n_c = Aviator;\nexport default Aviator;\nvar _c;\n$RefreshReg$(_c, \"Aviator\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_URL","Aviator","_s","gameState","setGameState","multiplier","setMultiplier","betAmount","setBetAmount","balance","setBalance","isBetPlaced","setIsBetPlaced","gameHistory","setGameHistory","timeLeft","setTimeLeft","crashPoint","setCrashPoint","isAutoCashout","setIsAutoCashout","autoCashoutValue","setAutoCashoutValue","roundNumber","setRoundNumber","isBetQueued","setIsBetQueued","queuedBetAmount","setQueuedBetAmount","betHistory","setBetHistory","currentGame","setCurrentGame","error","setError","currentOdds","setCurrentOdds","isLoading","setIsLoading","gamePhase","setGamePhase","realtimeInterval","gameCheckInterval","isRunningRef","gameStateRef","fetchRealtimeGameState","response","get","data","round_number","status","Number","crash_point","current_multiplier","time_remaining","phase","game_crashed","crashed_at","prev","slice","setTimeout","cashout","console","fetchCurrentGame","game","odds","timing","fetchBalance","token","localStorage","getItem","headers","placeBet","post","amount","success","new_balance","_error$response","_error$response$data","bet_amount","profit","queueBet","cancelQueuedBet","handleBetAmountChange","e","value","target","handleAutoCashoutChange","current","setInterval","clearInterval","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","toFixed","type","onChange","min","max","disabled","checked","step","map","crash","index","bet","_c","$RefreshReg$"],"sources":["C:/Users/Antoo/Desktop/betting/betsite/frontend/src/components/Aviator.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './Aviator.css';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://127.0.0.1:8000';\n\nconst Aviator = () => {\n  // Game state from backend\n  const [gameState, setGameState] = useState('waiting');\n  const [multiplier, setMultiplier] = useState(1.00);\n  const [betAmount, setBetAmount] = useState(10);\n  const [balance, setBalance] = useState(1000);\n  const [isBetPlaced, setIsBetPlaced] = useState(false);\n  const [gameHistory, setGameHistory] = useState([]);\n  const [timeLeft, setTimeLeft] = useState(10);\n  const [crashPoint, setCrashPoint] = useState(0);\n  const [isAutoCashout, setIsAutoCashout] = useState(false);\n  const [autoCashoutValue, setAutoCashoutValue] = useState(2.00);\n  const [roundNumber, setRoundNumber] = useState(0);\n  const [isBetQueued, setIsBetQueued] = useState(false);\n  const [queuedBetAmount, setQueuedBetAmount] = useState(10);\n  const [betHistory, setBetHistory] = useState([]);\n  const [currentGame, setCurrentGame] = useState(null);\n  const [error, setError] = useState(null);\n  const [currentOdds, setCurrentOdds] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [gamePhase, setGamePhase] = useState('waiting');\n  \n  // Real-time polling intervals\n  const realtimeInterval = useRef(null);\n  const gameCheckInterval = useRef(null);\n  const isRunningRef = useRef(false);\n  const gameStateRef = useRef(gameState);\n\n  // Real-time game state polling - gets current multiplier from backend\n  const fetchRealtimeGameState = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/aviator/realtime/`);\n      const data = response.data;\n      \n      // Update game state from backend\n      setRoundNumber(data.round_number);\n      setGameState(data.status);\n      setCrashPoint(Number(data.crash_point));\n      setMultiplier(data.current_multiplier);\n      setTimeLeft(data.time_remaining);\n      setGamePhase(data.phase);\n      \n      // Handle game transitions\n      if (data.game_crashed) {\n        // Game just crashed, show result briefly\n        setGameState('crashed');\n        setMultiplier(Number(data.crashed_at));\n        \n        // Reset bet state\n        setIsBetPlaced(false);\n        \n        // Add to game history\n        setGameHistory(prev => [Number(data.crashed_at), ...prev.slice(0, 9)]);\n        \n        // Start new round after brief delay\n        setTimeout(() => {\n          setGameState('waiting');\n          setMultiplier(1.00);\n        }, 2000);\n      }\n      \n      // Handle auto-cashout\n      if (isAutoCashout && data.phase === 'playing' && data.current_multiplier >= autoCashoutValue) {\n        cashout();\n      }\n      \n    } catch (error) {\n      console.error('Error fetching real-time game state:', error);\n    }\n  };\n\n  // Fetch initial game data\n  const fetchCurrentGame = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/api/aviator/sync/`);\n      const data = response.data;\n      \n      setCurrentGame(data.game);\n      setCurrentOdds(data.odds);\n      setRoundNumber(data.game.round_number);\n      setCrashPoint(Number(data.game.crash_point));\n      setGameState(data.game.status);\n      setMultiplier(data.current_multiplier);\n      setTimeLeft(data.timing.time_remaining);\n      \n      // Set game phase based on status\n      if (data.game.status === 'waiting') {\n        setGamePhase('waiting');\n      } else if (data.game.status === 'active') {\n        setGamePhase('playing');\n      } else {\n        setGamePhase('crashed');\n      }\n      \n      setIsLoading(false);\n    } catch (error) {\n      console.error('Error fetching current game:', error);\n      setError('Failed to load game data');\n      setIsLoading(false);\n    }\n  };\n\n  // Fetch user balance\n  const fetchBalance = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n      \n      const response = await axios.get(`${API_BASE_URL}/api/aviator/balance/`, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      setBalance(response.data.balance);\n    } catch (error) {\n      console.error('Error fetching balance:', error);\n    }\n  };\n\n  // Place bet\n  const placeBet = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) {\n        setError('Please log in to place a bet');\n        return;\n      }\n      \n      const response = await axios.post(`${API_BASE_URL}/api/aviator/place-bet/`, {\n        amount: betAmount\n      }, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      if (response.data.success) {\n        setIsBetPlaced(true);\n        setBalance(response.data.new_balance);\n        setError(null);\n      }\n    } catch (error) {\n      console.error('Error placing bet:', error);\n      setError(error.response?.data?.error || 'Failed to place bet');\n    }\n  };\n\n  // Cashout\n  const cashout = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) return;\n      \n      const response = await axios.post(`${API_BASE_URL}/api/aviator/cashout/`, {}, {\n        headers: { 'Authorization': `Bearer ${token}` }\n      });\n      \n      if (response.data.success) {\n        setIsBetPlaced(false);\n        setBalance(response.data.new_balance);\n        setBetHistory(prev => [{\n          amount: response.data.bet_amount,\n          multiplier: multiplier,\n          profit: response.data.profit\n        }, ...prev.slice(0, 9)]);\n      }\n    } catch (error) {\n      console.error('Error cashing out:', error);\n    }\n  };\n\n  // Queue bet for next round\n  const queueBet = () => {\n    if (gameState === 'waiting') {\n      setIsBetQueued(true);\n      setQueuedBetAmount(betAmount);\n    }\n  };\n\n  // Cancel queued bet\n  const cancelQueuedBet = () => {\n    setIsBetQueued(false);\n    setQueuedBetAmount(0);\n  };\n\n  // Handle bet amount change\n  const handleBetAmountChange = (e) => {\n    const value = Number(e.target.value);\n    if (value > 0 && value <= balance) {\n      setBetAmount(value);\n    }\n  };\n\n  // Handle auto-cashout change\n  const handleAutoCashoutChange = (e) => {\n    const value = Number(e.target.value);\n    if (value >= 1.00) {\n      setAutoCashoutValue(value);\n    }\n  };\n\n  // Start real-time polling\n  useEffect(() => {\n    // Initial fetch\n    fetchCurrentGame();\n    fetchBalance();\n    \n    // Start real-time polling (every 100ms for smooth updates)\n    realtimeInterval.current = setInterval(fetchRealtimeGameState, 100);\n    \n    // Game state check (every 1 second)\n    gameCheckInterval.current = setInterval(() => {\n      if (gameState === 'waiting' || gameState === 'active') {\n        fetchCurrentGame();\n      }\n    }, 1000);\n    \n    // Cleanup\n    return () => {\n      if (realtimeInterval.current) {\n        clearInterval(realtimeInterval.current);\n      }\n      if (gameCheckInterval.current) {\n        clearInterval(gameCheckInterval.current);\n      }\n    };\n  }, []);\n\n  // Update game state ref\n  useEffect(() => {\n    gameStateRef.current = gameState;\n  }, [gameState]);\n\n  // Handle queued bet when game starts\n  useEffect(() => {\n    if (gameState === 'active' && isBetQueued && gamePhase === 'starting') {\n      setBetAmount(queuedBetAmount);\n      setIsBetQueued(false);\n      placeBet();\n    }\n  }, [gameState, gamePhase, isBetQueued]);\n\n  if (isLoading) {\n    return (\n      <div className=\"aviator-container\">\n        <div className=\"loading\">Loading Aviator Game...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"aviator-container\">\n      <div className=\"game-header\">\n        <h1>Aviator Game</h1>\n        <div className=\"round-info\">\n          <span>Round #{roundNumber}</span>\n          <span className=\"balance\">Balance: ${balance}</span>\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"error-message\">\n          {error}\n          <button onClick={() => setError(null)}>×</button>\n        </div>\n      )}\n\n      <div className=\"game-display\">\n        <div className=\"multiplier-display\">\n          <div className=\"multiplier-value\">\n            {gameState === 'crashed' ? `${multiplier.toFixed(2)}x` : `${multiplier.toFixed(2)}x`}\n          </div>\n          <div className=\"game-status\">\n            {gameState === 'waiting' && `Next round in ${timeLeft.toFixed(1)}s`}\n            {gameState === 'active' && gamePhase === 'playing' && `Flying to ${crashPoint.toFixed(2)}x`}\n            {gameState === 'crashed' && 'CRASHED!'}\n          </div>\n        </div>\n\n        <div className=\"crash-point\">\n          Crash Point: {crashPoint.toFixed(2)}x\n        </div>\n      </div>\n\n      <div className=\"betting-controls\">\n        <div className=\"bet-input\">\n          <label>Bet Amount:</label>\n          <input\n            type=\"number\"\n            value={betAmount}\n            onChange={handleBetAmountChange}\n            min=\"1\"\n            max={balance}\n            disabled={isBetPlaced || gameState !== 'waiting'}\n          />\n        </div>\n\n        <div className=\"bet-buttons\">\n          {!isBetPlaced ? (\n            <>\n              <button\n                className=\"place-bet-btn\"\n                onClick={placeBet}\n                disabled={gameState !== 'waiting' || betAmount > balance}\n              >\n                Place Bet\n              </button>\n              {gameState === 'waiting' && (\n                <button\n                  className=\"queue-bet-btn\"\n                  onClick={queueBet}\n                  disabled={betAmount > balance}\n                >\n                  Queue Bet\n                </button>\n              )}\n            </>\n          ) : (\n            <button\n              className=\"cashout-btn\"\n              onClick={cashout}\n              disabled={gameState !== 'active'}\n            >\n              Cashout at {multiplier.toFixed(2)}x\n            </button>\n          )}\n        </div>\n\n        {isBetQueued && (\n          <div className=\"queued-bet\">\n            <span>Bet queued: ${queuedBetAmount}</span>\n            <button onClick={cancelQueuedBet}>Cancel</button>\n          </div>\n        )}\n      </div>\n\n      <div className=\"auto-cashout\">\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={isAutoCashout}\n            onChange={(e) => setIsAutoCashout(e.target.checked)}\n          />\n          Auto Cashout at:\n        </label>\n        <input\n          type=\"number\"\n          value={autoCashoutValue}\n          onChange={handleAutoCashoutChange}\n          min=\"1.00\"\n          step=\"0.10\"\n          disabled={!isAutoCashout}\n        />\n        x\n      </div>\n\n      <div className=\"game-info\">\n        <div className=\"game-history\">\n          <h3>Recent Crashes</h3>\n          <div className=\"history-list\">\n            {gameHistory.map((crash, index) => (\n              <span key={index} className=\"crash-value\">\n                {crash.toFixed(2)}x\n              </span>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"bet-history\">\n          <h3>Recent Bets</h3>\n          <div className=\"history-list\">\n            {betHistory.map((bet, index) => (\n              <div key={index} className=\"bet-result\">\n                <span>${bet.amount}</span>\n                <span>{bet.multiplier.toFixed(2)}x</span>\n                <span className={bet.profit >= 0 ? 'profit' : 'loss'}>\n                  {bet.profit >= 0 ? '+' : ''}${bet.profit}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"debug-info\">\n        <div>Game State: {gameState}</div>\n        <div>Phase: {gamePhase}</div>\n        <div>Time Left: {timeLeft.toFixed(1)}s</div>\n        <div>Multiplier: {multiplier.toFixed(3)}x</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Aviator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}